{"version":3,"file":"text-intellisense.umd.js","sources":["../../../projects/textintellisense/src/lib/text-intellisense.component.ts","../../../projects/textintellisense/src/lib/text-intellisense.module.ts","../../../projects/textintellisense/src/public-api.ts","../../../projects/textintellisense/src/text-intellisense.ts"],"names":["http","EventEmitter","HttpHeaders","Component","ElementRef","HttpClient","Input","Output","keyboardEventKeyPolyfill","NgModule","CommonModule","FormsModule","HttpClientModule","TextInputAutocompleteModule"],"mappings":"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","sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter, ElementRef } from '@angular/core';\r\nimport { HttpClient, HttpEventType, HttpResponse, HttpHeaders } from '@angular/common/http';\r\ndeclare var $:any;\r\n\r\n@Component({selector: 'emuna-text-intellisense',templateUrl: './text-intellisense.component.html',styleUrls: ['./text-intellisense.component.scss']})\r\n\r\nexport class TextIntellisenseComponent implements OnInit {\r\n\r\n  @Input() Id: string = \"Id\";\r\n  @Input() Name: string = \"Name\";\r\n  @Input() LabelName: string = \"LabelName\";\r\n  @Input() TabIndex: number = 1;\r\n  @Input() Type: string = 'text';\r\n  @Input() Maxlength: number = 255;\r\n  @Input() Value: string = \"\";\r\n  @Input() Rows: number = 1;\r\n  @Input() TriggerCharacter: string = \"{\";\r\n  @Input() LabelStyle: any = {};\r\n  @Input() BorderStyle: any = {};\r\n  @Input() ValueStyle: any = {};\r\n  @Input() ReadOnly: boolean = false;\r\n  @Input() Disabled: boolean = false;\r\n  @Input() LabelTop: boolean = false;\r\n  @Input() database: any = \"ADMIN\";\r\n  @Input() schema: any = \"list\";\r\n  @Input() procedure: any = \"NASS_FIELDS_ListCombo\";\r\n  @Input() fieldName: any = \"TableFullName\";\r\n  @Input() apiURL: any = 'https://emunatemplate.aaadev.info/Api/';\r\n  @Output() GetValue = new EventEmitter;\r\n  @Output() BlurValue = new EventEmitter;\r\n  randKey = Math.floor(Math.random() * 10000000000) + 1;\r\n  showList = false;\r\n  listData: any = [];\r\n  GenericToken: any = \"\";\r\n  leftCss = \"auto\";\r\n  httpOptionJSON = {\r\n    headers: new HttpHeaders({\r\n      'Content-Type': 'application/json'\r\n    })\r\n  };\r\n  \r\n  constructor(private elementRef: ElementRef, private http: HttpClient) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getToken();\r\n  }\r\n\r\n  ngOnChanges(event) {\r\n    if (event.LabelStyle != undefined && event.LabelStyle.currentValue != undefined) {\r\n        let css = event.LabelStyle.currentValue;\r\n        this.elementRef.nativeElement.style.setProperty('--c-width', css['c-width']);\r\n        this.elementRef.nativeElement.style.setProperty('--c-height', css['c-height']);\r\n        this.elementRef.nativeElement.style.setProperty('--label-left', css['label-left']);\r\n        this.elementRef.nativeElement.style.setProperty('--label-top', css['label-top']);\r\n    }\r\n\r\n    if (event.ValueStyle != undefined && event.ValueStyle.currentValue != undefined) {\r\n        let css = event.ValueStyle.currentValue;\r\n        this.elementRef.nativeElement.style.setProperty('--value-left', css['value-left']);\r\n        this.elementRef.nativeElement.style.setProperty('--value-top', css['value-top']);\r\n    }\r\n  }\r\n\r\n  GetValueEvent(event) {\r\n    var getVal = event.target.value\r\n    this.GetValue.emit(event.target.value);\r\n  }\r\n\r\n  OnBlurEvent(event) {\r\n    this.BlurValue.emit(event.target.value);\r\n  }\r\n\r\n  getToken() {\r\n    if (this.GenericToken == \"\") {\r\n      this.http.get(this.apiURL + \"GetSystemInfo?passcode=flipper613\").subscribe(res => {\r\n        this.GenericToken = res[\"GenericToken\"];\r\n        this.getGlobalField();\r\n      });\r\n    }\r\n  }\r\n\r\n  getGlobalField() {\r\n    const url = this.apiURL + \"Data/Exec/\" + this.database + \"/\" + this.schema + \"/\" + this.procedure + \"?api_key=\" + this.GenericToken;\r\n    this.http.post(url, {}, this.httpOptionJSON).subscribe(res => {\r\n      if (res) {\r\n        this.listData = [];\r\n        let temp: any = [];\r\n        temp = res;\r\n        for (let i = 0; i < temp.length; i++) {\r\n          let nType = {\r\n            id: temp[i].CodeId,\r\n            name: temp[i].Description\r\n          }\r\n          this.listData.push(temp[i].Description);\r\n        }\r\n      } else {\r\n        this.listData = [];\r\n      }\r\n    }, error => {\r\n      this.listData = [];\r\n    });\r\n  }\r\n\r\n  findChoices = (searchText: string) => {\r\n    return this.listData.filter(item =>\r\n      item.toLowerCase().includes(searchText.toLowerCase())\r\n    );\r\n  }\r\n\r\n  getChoiceLabel = (choice: string) => {\r\n    if (this.TriggerCharacter !== '{') {\r\n      return this.TriggerCharacter + choice + ' ';\r\n    } else {\r\n      return '{' + choice + '} ';\r\n    }\r\n  }\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { TextIntellisenseComponent } from './text-intellisense.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { polyfill as keyboardEventKeyPolyfill } from 'keyboardevent-key-polyfill';\r\nimport { TextInputAutocompleteModule } from 'angular-text-input-autocomplete';\r\n\r\nkeyboardEventKeyPolyfill();\r\n\r\n@NgModule({\r\n  declarations: [TextIntellisenseComponent],\r\n  imports: [\r\n  \tCommonModule,\r\n  \tFormsModule,\r\n  \tHttpClientModule,\r\n  \tTextInputAutocompleteModule\r\n  ],\r\n  exports: [TextIntellisenseComponent]\r\n})\r\nexport class TextIntellisense { }\r\n","/*\r\n * Public API Surface of list-search\r\n */\r\nexport * from './lib/text-intellisense.component';\r\nexport * from './lib/text-intellisense.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}
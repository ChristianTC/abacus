{"version":3,"file":"rich-text-editor.js","sources":["../../../projects/rich-text-editor/src/lib/rich-text-editor.component.ts","../../../projects/rich-text-editor/src/lib/rich-text-editor.module.ts","../../../projects/rich-text-editor/src/public-api.ts","../../../projects/rich-text-editor/src/rich-text-editor.ts"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter, ElementRef } from '@angular/core';\r\n// import * as ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport * as DecoupledEditor from '@ckeditor/ckeditor5-build-decoupled-document';\r\nimport { ChangeEvent } from '@ckeditor/ckeditor5-angular/ckeditor.component';\r\n\r\n@Component({\r\n  selector: 'emuna-rich-text-editor',\r\n  template: `\r\n  <div class=\"ckeditor-area\" [class.fixed-area]=\"isExpand\">\r\n    <div style=\"background: #dcdcdc;line-height: 32px;padding-left: 10px;\">\r\n      <label>{{LabelName}}</label>\r\n      <button *ngIf=\"!isExpand\" (click)=\"expandEditor()\" class=\"btn btn-exp\"><i class=\"fal fa-expand-arrows\"></i></button>\r\n      <button *ngIf=\"isExpand\"  (click)=\"callapseEditor()\" class=\"btn btn-exp\"><i class=\"fal fa-compress-alt\"></i></button>\r\n    </div>\r\n    <ckeditor [editor]=\"Editor\" [(ngModel)]=\"Value\" (change)=\"onChange($event)\" (ready)=\"onReady($event)\" [disabled]=\"Disabled\"></ckeditor>   \r\n  </div>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      --ck-height: 200px;\r\n    }\r\n    .ckeditor-area {width:100%;position:relative;}\r\n    .fixed-area {\r\n      position: fixed !important;\r\n      top: 0px;\r\n      left: 0px;\r\n      right: 10px;\r\n      z-index: 1200;\r\n      height: 100vh;\r\n      background: #fff;\r\n      overflow: auto;\r\n    }\r\n    .btn-exp,.btn-exp:hover,.btn-exp:focus {\r\n        position: absolute;\r\n        right: 10px;\r\n        z-index: 100;\r\n        top: 4px !important;\r\n        background: transparent;\r\n        border: none;\r\n        outline: none;\r\n        color: #000;\r\n        box-shadow: none;\r\n        padding: 2px 7px;\r\n        font-size: 14px;\r\n    }\r\n    .fixed-area .btn-exp {\r\n      z-index:1400 !important;\r\n    }\r\n    :host::ng-deep .ck-editor__editable_inline {\r\n      height: var(--ck-height);\r\n      overflow: auto;\r\n    }\r\n  `]\r\n})\r\nexport class RichTextEditorComponent implements OnInit {\r\n\r\n  @Input() Type = 'classic';\r\n  @Input() Height = '300px';\r\n  @Input() LabelStyle = {};\r\n  @Input() LabelName: string;\r\n  @Input() Value: string;\r\n  @Input() Disabled = false;\r\n  @Output() editorChange = new EventEmitter();\r\n  minHeight: string;\r\n  isExpand = false;\r\n\r\n  // public Editor = ClassicEditor;\r\n  public Editor = DecoupledEditor;\r\n  constructor(private elementRef: ElementRef) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnChanges(event) {\r\n    if (event.Height) {\r\n      console.log(event.Height)\r\n        this.minHeight = event.Height.currentValue;\r\n        this.elementRef.nativeElement.style.setProperty('--ck-height', this.minHeight);\r\n    }\r\n  }\r\n\r\n  public onChange( { editor }: ChangeEvent ) {\r\n    const data = editor.getData();\r\n    this.editorChange.emit(data);\r\n  }\r\n\r\n  public onReady( editor ) {\r\n    editor.ui.getEditableElement().parentElement.insertBefore(\r\n        editor.ui.view.toolbar.element,\r\n        editor.ui.getEditableElement()\r\n    );\r\n  }\r\n\r\n  expandEditor() {\r\n    this.minHeight = 'calc(100vh - 72px)';\r\n    this.elementRef.nativeElement.style.setProperty('--ck-height', this.minHeight);\r\n    this.isExpand = true;\r\n  }\r\n\r\n  callapseEditor() {\r\n    this.minHeight = this.Height;\r\n    this.elementRef.nativeElement.style.setProperty('--ck-height', this.minHeight);\r\n    this.isExpand = false;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RichTextEditorComponent } from './rich-text-editor.component';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [RichTextEditorComponent],\r\n  imports: [\r\n  \tCommonModule,\r\n  \tFormsModule,\r\n  \tCKEditorModule\r\n  ],\r\n  exports: [RichTextEditorComponent]\r\n})\r\nexport class RichTextEditor { }\r\n","/*\r\n * Public API Surface of rich-text-editor\r\n */\r\n\r\nexport * from './lib/rich-text-editor.component';\r\nexport * from './lib/rich-text-editor.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵelement","i0.ɵɵelementEnd","i0.ɵɵtext","i0.ɵɵtemplate","i0.ɵɵclassProp","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵproperty"],"mappings":"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"}